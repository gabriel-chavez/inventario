@{ 
    var enlaces=ViewBag.datos;
    var titulo = ViewBag.titulo;

    var oficinas = ViewBag.oficinas;
    var proveedores = ViewBag.proveedores;
    var enlacesTipo = ViewBag.enlacesTipo;
    var enlacesTecnologia = ViewBag.enlacesTecnologia;   
}

                <div>
                    <button style="margin-right:0px" class="btn btn-default btn-md pull-right" data-toggle="modal" data-target="@("#modalEnlace"+titulo)">Agregar Nuevo enlace</button>
                </div>
                <table id="tabla-@titulo" class="table table-striped table-bordered tabla-enlaces">
                    <thead>
                        <tr>
                            <th>Oficina</th>
                            <th>Tipo Oficina</th>
                            <th>Nro. Of.</th>
                            <th>Tipo enlace</th>
                            <th>Enlace</th>
                            <th>Enlace tecnologia</th>
                            <th>Proveedor</th>
                            <th>Velocidad</th>
                            <th>Mensualidad</th>
                            <th>Observaciones</th>
                            <th></th>
                        </tr>
                        
                    </thead>
                    <tfoot class="filtros">
                        <tr>
                            <th>Oficina</th>
                            <th>Tipo Oficina</th>
                            <th>Nro. Of.</th>
                            <th>Tipo enlace</th>
                            <th>Enlace</th>
                            <th>Enlace tecnologia</th>
                            <th>Proveedor</th>
                            <th>Velocidad</th>
                            <th>Mensualidad</th>
                            <th>Observaciones</th>
                            <th></th>
                        </tr>
                    </tfoot>
                    <tbody>
                        @foreach (var m in enlaces)
                        {
                            <tr>

                                <td>@m.oficinas.nombre_oficina</td>
                                <td>@m.oficinas.tipoOficina.tipo.</td>
                                <td>@m.oficinas.nroOficina</td>
                                <td>@m.enlacesTipo.tipo</td>
                                <td>@(m.enlace==1?"Primario":"Secundario")</td>
                                <td>@m.enlacesTecnologia.tecnologia</td>
                                <td>@m.proveedores.proveedor</td>
                                <td>@m.velocidad</td>
                                <td>@m.mensualidad</td>

                                <td>@m.observaciones</td>


                                <td class="text-center">

                                    <a class="btn btn-md btn-primary" href="~/enlaces/verenlace/@m.enlaceID"><i class="fa fa-search" aria-hidden="true"></i></a>
                                    <a class="btn btn-md btn-primary" href=""><i class="fa fa-pencil" aria-hidden="true"></i></a>

                                </td>
                            </tr>
                        }
                    </tbody>
                </table>

                <!-- content ends here -->
<!-- Modal -->

@using (Html.BeginForm("GuardarEnlace", "enlaces", FormMethod.Post))
{
    <div class="modal fade" id="@("modalEnlace" + titulo)" role="dialog">
        <input type="text" name="cod" value="" id="cod_linea" hidden> <!-- input oculto para el codigo de almacen-->
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                    <h3 class="modal-title modalEnlaceNacionalTitulo"></h3>
                </div>
                <!--MODAL BODY-->
                <div class="modal-body form form-horizontal">
                    <fieldset>
                        <!-- Oficina-->
                        <div class="form-group">
                            <label class="control-label col-md-3 col-sm-3 col-xs-12" for="first-name">
                                Oficina<span class="required"></span>
                            </label>
                            <div class="col-md-8 col-sm-8 col-xs-12">
                                <!--<input type="text" id="first-name" required="required" class="form-control col-md-7 col-xs-12">-->
                                <select name="oficinaID" class="form-control col-md-7 col-xs-12">
                                    @foreach (var fila in oficinas)
                                    {
                                        <option value="@fila.oficinaID">@fila.nombre_oficina</option>
                                    }
                                </select>
                            </div>
                        </div>
                        <!-- Proveedor-->
                        <div class="form-group">
                            <label class="control-label col-md-3 col-sm-3 col-xs-12" for="first-name">
                                Proveedor <span class="required"></span>
                            </label>
                            <div class="col-md-8 col-sm-8 col-xs-12">
                                <select name="proveedorID" class="form-control col-md-7 col-xs-12">
                                    @foreach (var fila in proveedores)
                                    {
                                        <option value="@fila.proveedorID">@fila.proveedor</option>
                                    }
                                </select>
                            </div>
                        </div>
                        <!-- Tipo Enlace-->
                        <div class="form-group">
                            <label class="control-label col-md-3 col-sm-3 col-xs-12" for="first-name">
                                Tipo <span class="required"></span>
                            </label>
                            <div class="col-md-8 col-sm-8 col-xs-12">
                                <select name="enlaceTipoID" class="form-control col-md-7 col-xs-12">
                                    @foreach (var fila in enlacesTipo)
                                    {
                                        <option value="@fila.enlaceTipoID">@fila.tipo</option>
                                    }
                                </select>
                            </div>
                        </div>
                        <!-- Enlace-->
                        <div class="form-group">
                            <label class="control-label col-md-3 col-sm-3 col-xs-12" for="first-name">
                                Enlace <span class="required"></span>
                            </label>
                            <div class="col-md-8 col-sm-8 col-xs-12">
                                <select name="enlace" class="form-control col-md-7 col-xs-12">
                                    <option value="1">Primario</option>
                                    <option value="1">Secundario</option>
                                </select>
                            </div>
                        </div>
                        <!-- Tecnologia-->
                        <div class="form-group">
                            <label class="control-label col-md-3 col-sm-3 col-xs-12" for="first-name">
                                Tecnologia <span class="required"></span>
                            </label>
                            <div class="col-md-8 col-sm-8 col-xs-12">
                                <select name="enlaceTecnologiaID" class="form-control col-md-7 col-xs-12">
                                    @foreach (var fila in enlacesTecnologia)
                                    {
                                        <option value="@fila.enlaceTecnologiaID">@fila.tecnologia</option>
                                    }
                                </select>
                            </div>
                        </div>
                        <!-- Velocidad-->
                        <div class="form-group">
                            <label class="control-label col-md-3 col-sm-3 col-xs-12" for="first-name">
                                Velocidad <span class="required"></span>
                            </label>
                            <div class="col-md-8 col-sm-8 col-xs-12">
                                <input type="text" id="first-name" required="required" name="velocidad" class="form-control col-md-7 col-xs-12">
                            </div>
                        </div>
                        <!-- Mensualidad-->
                        <div class="form-group">
                            <label class="control-label col-md-3 col-sm-3 col-xs-12" for="first-name">
                                Mensualidad <span class="required"></span>
                            </label>
                            <div class="col-md-8 col-sm-8 col-xs-12">
                                <input type="text" id="first-name" required="required" name="mensualidad" class="form-control col-md-7 col-xs-12">
                            </div>
                        </div>
                        <!-- Observaciones-->
                        <div class="form-group">
                            <label class="control-label col-md-3 col-sm-3 col-xs-12" for="first-name">
                                Observaciones <span class="required"></span>
                            </label>
                            <div class="col-md-8 col-sm-8 col-xs-12">
                                <input name="observaciones" type="text" id="first-name" required="required" class="form-control col-md-7 col-xs-12">
                            </div>
                        </div>
                        <input name="estado" value="1" class="hidden"/>
                        <!--ENLACES SERVICIO-->
                        <!--Servicio-->
                        @if (titulo == "Servicios")
                        {
                            <div class="form-group">
                                <label class="control-label col-md-3 col-sm-3 col-xs-12" for="first-name">
                                    Servicio <span class="required"></span>
                                </label>
                                <div class="col-md-8 col-sm-8 col-xs-12">
                                    <input type="text" id="first-name" required="required" class="form-control col-md-7 col-xs-12">
                                </div>
                            </div>
                            <!--Direccion-->
                            <div class="form-group">
                                <label class="control-label col-md-3 col-sm-3 col-xs-12" for="first-name">
                                    Direccion Servicio <span class="required"></span>
                                </label>
                                <div class="col-md-8 col-sm-8 col-xs-12">
                                    <input type="text" id="first-name" required="required" class="form-control col-md-7 col-xs-12">
                                </div>
                            </div>
                        }

                        @if (titulo == "Internet")
                        {
                            <!--ENLACES INTERNET-->
                            <!--Servicio-->
                            <div class="form-group">
                                <label class="control-label col-md-3 col-sm-3 col-xs-12" for="first-name">
                                    Plan Internet <span class="required"></span>
                                </label>
                                <div class="col-md-8 col-sm-8 col-xs-12">
                                    <input type="text" id="first-name" required="required" class="form-control col-md-7 col-xs-12">
                                </div>
                            </div>
                        }

                    </fieldset>
                    <div class="modal-footer">
                        <button type="button" data-reset="true" class="btn btn-default" data-dismiss="modal">Cerrar</button>
                        <button type="" data-reset="true" data-ajax="true" class="btn btn-primary" id="bguardar_linea">Guardar</button>
                    </div>
                </div> <!-- /.<div class="modal-body form">-->
            </div>
        </div> <!-- /. modal -->
    </div>
}
    
    


